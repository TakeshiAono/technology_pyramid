<h1><%= I18n.t('links.display') %></h1>

<p class = "explanation">
  この技術を把握するための外部リンクです<br>
  参考になった場合は「いいねボタン」で評価をしてあげましょう
</p>

<%= link_to I18n.t('links.new'), new_link_path, class: "btn btn-primary" %>

<table class = "table links-table">
  <thead>
    <tr>
      <th><%= I18n.t('links.title') %></th>
      <th><%= I18n.t('links.url') %></th>
      <th><%= I18n.t('links.good_counter') %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @links.each do |link| %>
      <tr>
        <td><%= link.title %></td>
        <td><%= link_to "#{link.url}", link.url %></td>
        <td class = "good-column">
          <%# <div class = "good-content"> %>
          <span class = "good-counter"><%= link.good_counter %></span>
          <% unless LinkGood.find_by(user_id: current_user.id, link_id: link.id) %>
            <%= link_to good_register_links_path(link) do %>
              <i class="far fa-thumbs-up good-register"></i>
            <% end %>
          <% else %>
            <%= link_to good_unregister_links_path(link) do %>
              <i class="far fa-thumbs-up good-unregister"></i>
            <% end %>
          <% end %>
          <%# </div> %>
        </td>
        <td><%= link_to I18n.t("show"), link, class: "btn btn-secondary" %></td>
        <td><%= link_to I18n.t("edit"), edit_link_path(link), class: "btn btn-warning" %></td>
        <td><%= link_to I18n.t("destroy"), link, method: :delete, data: {confirm: I18n.t("confirm.destroy")}, class: "btn btn-danger" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
